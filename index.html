<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        /* Container styling */
        .image-container {
            width: 100vw;
            height: 100vh; 
            overflow: hidden; 
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Make the image stretch to fill the entire size of the container */
        .image-container img {
            width: auto;
            height: 100%;
            object-fit: fill;
            display: block;
            margin: 0 auto;
        }
    </style>
    <!-- Include the MRAID script -->
    <script src="mraid.js"></script>
    <title>Image Gallery</title>
</head>
<body>

    <!-- Container for the image -->
    <div class="image-container">
        <!-- First image -->
        <img id="image1" src="Level 1_IDLE(WebP).webp" alt="Description of the first image" onclick="changeImage()">
        <!-- Second image (hidden initially) -->
        <img id="image2" src="Level 1_VID(WebP).webp" alt="Description of the second image" style="display: none;" onclick="changeImage()">
        <!-- Third image (hidden initially) -->
        <img id="image3" src="Level 2_IDLE(WebP).webp" alt="Description of the third image" style="display: none;" onclick="changeImage()">
        <!-- Second image (hidden initially) -->
        <img id="image4" src="Level 2_VID(WebP).webp" alt="Description of the fourth image" style="display: none;" onclick="changeImage()">
        <!-- Second image (hidden initially) -->
        <img id="image5" src="Level 3_IDLE(WebP).webp" alt="Description of the five image" style="display: none;" onclick="openAppStore()">
    </div>

    <!-- Unity Ads MRAID initialization -->
    <script>
        // Check if MRAID is available
        if (window.mraid) {
            // Variables to track the current image
            var currentImage = 1;
            var totalImages = 5;

            // Open the appropriate app store link or show the next image when clicked
            function changeImage() {
                // Hide the current image
                document.getElementById('image' + currentImage).style.display = 'none';

                // Increment the image counter
                currentImage++;

                // If it exceeds the total number of images, reset to the first image
                if (currentImage > totalImages) {
                    currentImage = 1;
                }

                // Show the next image
                document.getElementById('image' + currentImage).style.display = 'block';
            }

            // Open the appropriate app store link when the third image is clicked
            function openAppStore() {
                var platform = getMobileOperatingSystem();
                switch (platform) {
                    case "Android":
                        mraid.open("https://play.google.com/store/apps/details?id=com.lucidlabs.bloom");
                        break;
                    case "iOS":
                        mraid.open("https://apps.apple.com/us/app/bloom-a-puzzle-adventure/id1577359755");
                        break;
                    default:
                        // Default behavior (for other platforms)
                        break;
                }
            }

            // Function to detect the mobile operating system
            function getMobileOperatingSystem() {
                var userAgent = navigator.userAgent || navigator.vendor || window.opera;
                if (/android/i.test(userAgent)) {
                    return "Android";
                }
                if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                    return "iOS";
                }
                return "Other";
            }

            // Add event listener for MRAID state changes
            mraid.addEventListener('stateChange', function (state) {
                console.log('MRAID state changed to: ' + state);
                // Handle state change as needed
            });
        } else {
            console.error('MRAID not available. Make sure the MRAID script is included.');
        }
    </script>

</body>
</html>
